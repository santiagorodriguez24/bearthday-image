(this["webpackJsonpbearthday-image"]=this["webpackJsonpbearthday-image"]||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var c,n=a(2),r=a.n(n),o=a(14),s=a.n(o),i=a(23),l=a(48),j=a.n(l),b=a(18),d=a(125),h="CHANGE_NASA_EPIC_PROPS",u="GET_NASA_EPIC_AVAILABLE_DATES",m="GET_NASA_EPIC_IMAGES_DATA_BY_DATE";function O(e,t){return Object.assign({},e,t)}var x=Object(d.a)((c={},Object(b.a)(c,h,(function(e,t){return O(e,t.payload)})),Object(b.a)(c,u,(function(e,t){return t.error?O(e,{error:t.payload.error}):O(e,{availableDates:t.payload,error:""})})),Object(b.a)(c,m,(function(e,t){return t.error?O(e,{error:t.payload.error}):O(e,{imagesByDateData:t.payload,error:""})})),c),{availableDates:[],error:"",imagesByDateData:[],userBirthDay:"",imagesDate:""});var f=Object(d.a)(Object(b.a)({},"CHANGE_GLOBAL_PROPS",(function(e,t){var a=function(e,t){return Object.assign({},e,t)}(e,t.payload);return a})),{fontsLoaded:!1}),p=Object(i.b)({global:f,nasaEpic:x}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,y=Object(i.d)(p,{},g(Object(i.a)(j.a))),N=a(16),v=(a(84),a(85),a(50)),k=a(7),w=a.n(k),A=a(51),D=a.n(A),E=a(52),_=a.n(E),S=a(53),C=a.n(S),P=a(54),B=a.n(P),M=a(55),G=a.n(M),I=a(56),L=a.n(I),R=a(57),T=a.n(R),z=a(58),Y=a.n(z),F=a(59),H=a.n(F),V=a(60),U=a.n(V),q=a(61),J=a.n(q),Q=a(62),W=a.n(Q),X=a(63),Z=a.n(X);a(86);w.a.extend(D.a),w.a.extend(_.a),w.a.extend(C.a),w.a.extend(B.a),w.a.extend(G.a),w.a.extend(L.a),w.a.extend(T.a),w.a.extend(Y.a),w.a.extend(H.a),w.a.extend(U.a),w.a.extend(J.a),w.a.extend(W.a),w.a.extend(Z.a);var K=a(12),$=a(6),ee=(a(87),"/bearthday-image"),te="".concat(ee,"/"),ae="".concat(ee,"/photo-gallery"),ce=a(27),ne=a(5),re=a(15),oe=a(126),se=a(64),ie=a.n(se),le=a(31),je=function(e){return new Promise((function(t,a){ie.a.get(e,{params:{api_key:"5N2eMyO5pf6WjciZCSFUvDgud6VmvzyQxss8ywch"},headers:{Accept:"application/json"},timeout:1e4,withCredentials:!1}).then((function(e){Object(le.has)(e,"data")||a(e),Object(le.has)(e.data,"error")&&a(e.data.error),t(e.data)})).catch((function(e){if(e.message&&a(e.message),e.config){var t=e.config,c=t.method,n=t.url,r="Request ".concat(c,": ").concat(n," failed.");a(r)}a("Something went wrong.")}))}))},be="https://api.nasa.gov/EPIC",de="".concat(be,"/api/natural"),he=Object(oe.a)(h,(function(e){return e})),ue=Object(oe.a)(u,(function(){return je("".concat(de,"/available"))})),me=Object(oe.a)(m,(function(e){return je("".concat(de,"/date/").concat(e))})),Oe=a(21),xe=a(3),fe=function(e){var t=e.size,a=void 0===t?65:t;return Object(xe.jsx)("div",{className:"app-loader-container",children:Object(xe.jsx)("div",{className:"app-loader",children:Object(xe.jsx)(Oe.a,{size:a})})})},pe="Something went wrong.",ge="Reload page",ye=function(e){return"Go to ".concat(e)},Ne=function(e){var t=e.errorMessage,a=e.removeErrorAction,c=e.showBackButton,r=void 0===c||c,o=e.backRoute,s=e.backPageName,i=Object($.f)(),l=Object(n.useCallback)((function(){i.push(o),a({error:""})}),[o,i,a]);return Object(xe.jsxs)(ne.b,{className:"error-message-card",children:[Object(xe.jsx)(ne.e,{children:pe}),Object(xe.jsx)(ne.c,{children:Object(xe.jsxs)(ne.n,{className:"basic-row",children:[Object(xe.jsx)(ne.f,{xs:4,children:Object(xe.jsx)("img",{src:"/bearthday-image/images/nasa-logo.svg",alt:"Nasa logo",className:"error-message-card-img"})}),Object(xe.jsx)(ne.f,{xs:8,children:Object(xe.jsxs)("p",{className:"error-message-card-text",children:[" ",t]})})]})}),Object(xe.jsxs)(ne.d,{children:[Object(xe.jsx)(ne.f,{xs:12,sm:12,md:r?6:12,className:"error-message-card-button-container",children:Object(xe.jsxs)(ne.a,{color:"",className:"error-message-card-button yellow",size:"lg",onClick:function(){return document.location.reload()},children:[Object(xe.jsx)(Oe.c,{style:{marginRight:"15px"}}),ge]})}),r&&Object(xe.jsx)(ne.f,{xs:12,sm:12,md:6,className:"error-message-card-button-container",children:Object(xe.jsxs)(ne.a,{color:"",className:"error-message-card-button yellow",size:"lg",onClick:l,children:[Object(xe.jsx)(re.b,{style:{marginRight:"15px"}}),ye(s)]})})]})]})},ve=function(){var e=Object($.f)();return Object(xe.jsx)("div",{children:Object(xe.jsx)(ne.l,{className:"navbar-app",expand:"md",children:Object(xe.jsx)(ne.m,{children:Object(xe.jsx)("img",{src:"/bearthday-image/images/nasa-logo.svg",alt:"PL Logo",className:"navbar-logo link",onClick:function(){return e.push(te)}})})})})},ke="\xa9 Copyright National Aeronautics and Space Administration. All rights reserved.",we=function(){return Object(xe.jsxs)("div",{className:"public-footer",children:[Object(xe.jsx)(ne.f,{lg:3,className:"footer-col links"}),Object(xe.jsx)(ne.f,{lg:6,className:"footer-col",children:Object(xe.jsx)("span",{className:"legal-text",children:ke})}),Object(xe.jsx)(ne.f,{lg:3,className:"footer-col",children:Object(xe.jsxs)(ne.n,{className:"footer-icons-row",children:[Object(xe.jsx)("div",{className:"footer-icon-container",children:Object(xe.jsx)(K.b,{to:{pathname:"https://www.facebook.com/NASA/"},target:"_blank",rel:"noopener noreferrer",children:Object(xe.jsx)(re.a,{className:"footer-icon"})})}),Object(xe.jsx)("div",{className:"footer-icon-container",children:Object(xe.jsx)(K.b,{to:{pathname:"http://instagram.com/nasa"},target:"_blank",rel:"noopener noreferrer",children:Object(xe.jsx)(re.c,{className:"footer-icon"})})}),Object(xe.jsx)("div",{className:"footer-icon-container",children:Object(xe.jsx)(K.b,{to:{pathname:"http://twitter.com/nasa"},target:"_blank",rel:"noopener noreferrer",children:Object(xe.jsx)(re.f,{className:"footer-icon"})})}),Object(xe.jsx)("div",{className:"footer-icon-container",children:Object(xe.jsx)(K.b,{to:{pathname:"https://www.youtube.com/NASA"},target:"_blank",rel:"noopener noreferrer",children:Object(xe.jsx)(re.g,{className:"footer-icon"})})}),Object(xe.jsx)("div",{className:"footer-icon-container",children:Object(xe.jsx)(K.b,{to:{pathname:"https://www.linkedin.com/company/nasa/"},target:"_blank",rel:"noopener noreferrer",children:Object(xe.jsx)(re.d,{className:"footer-icon"})})})]})})]})},Ae=function(e){var t=e.children;return Object(xe.jsxs)("div",{className:"main-layout",children:[Object(xe.jsx)(ve,{}),Object(xe.jsx)("div",{className:"main-layout-content",children:t}),Object(xe.jsx)(we,{})]})},De="DD",Ee="MM",_e="YYYY-MM-DD",Se="YYYY",Ce="Search Images",Pe="Bearthday image",Be="Your birthday is so special NASA might have taken a photo of you on it! well ok they took a photo of the earth... you may be in it... somewhere.",Me="Select your date of birth and let us show you photos of the earth from the day of your last birthday.";var Ge=function(){var e=Object(N.b)(),t=Object($.f)(),a=Object(n.useState)(""),c=Object(ce.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(""),i=Object(ce.a)(s,2),l=i[0],j=i[1],b=Object(n.useState)(!1),d=Object(ce.a)(b,2),h=d[0],u=d[1],m=Object(N.c)((function(e){return e.nasaEpic.availableDates})),O=Object(N.c)((function(e){return e.nasaEpic.error}));Object(n.useEffect)((function(){e(ue()).then((function(e){u(!0)})).catch((function(e){u(!0)}))}),[e]);var x=Object(n.useCallback)((function(e){o(e.target.value),j("")}),[]),f=Object(n.useCallback)((function(){r||j("Date of birth is required.")}),[r]),p=Object(n.useCallback)((function(){if(r){var a=w()(),c=w()(r,_e),n=a.year(),o=a.month(),s=a.date(),i=c.month(),l=c.date(),j=o>i||o===i&&s>l?n:n-1,b=c.format(Ee),d=c.format(De),h="".concat(j,"-").concat(b,"-").concat(d),O="";if(m)if(m.includes(h))O=h;else for(var x=w()(h,_e),f=1;!O;){var p=x.add(f,"day").format(_e);m.includes(p)&&(O=p),f++}u(!1),e(he({userBirthDay:r,imagesDate:O})),e(me(O)).then((function(e){t.push(ae),u(!0)})).catch((function(e){u(!0),console.log("Component error: ",e)}))}}),[e,t,m,r]),g=Object(n.useMemo)((function(){return""!==O?Object(xe.jsx)(Ne,{errorMessage:O,removeErrorAction:he,showBackButton:!1}):null}),[O]);return Object(xe.jsx)(Ae,{isPublicPage:!1,children:Object(xe.jsxs)(ne.g,{children:[Object(xe.jsx)("div",{className:"page-title",children:Pe}),Object(xe.jsx)(ne.n,{className:"home-description",children:Object(xe.jsx)("p",{children:Be})}),Object(xe.jsx)(ne.n,{className:"home-description",children:Object(xe.jsx)("p",{children:Me})}),h?Object(xe.jsxs)("div",{className:"form-container",children:[Object(xe.jsxs)(ne.i,{className:"app-input-container",children:[Object(xe.jsx)(ne.k,{className:"app-input-label",for:"birthday-input",children:"Date of birth"}),Object(xe.jsx)(ne.j,{id:"birthday-input",placeholder:"\uf1fd;   Birthday",type:"date",invalid:!!l,className:"app-input",onChange:x,onBlur:f,value:r}),!!l&&Object(xe.jsx)(ne.h,{className:"app-formfeedback",children:l})]}),Object(xe.jsx)(ne.n,{className:"home-button-container",children:Object(xe.jsxs)(ne.a,{color:"",className:"app-button",size:"lg",disabled:!!l||!r,onClick:p,children:[Object(xe.jsx)(re.e,{size:20,style:{marginRight:"15px"}}),Ce]})}),Object(xe.jsx)(ne.n,{className:"home-button-container",children:g})]}):Object(xe.jsx)(fe,{})]})})},Ie=(a(111),a(68)),Le="".concat(be,"/archive/natural"),Re="Go to Home",Te="Photo Gallery",ze=function(e,t){return e===t?"This are the photos of the earth on your last birthday!":"Sadly, NASA doesn\u2019t take photos every day and they didn\u2019t take a picture of the earth on your last birthday, so the next images are from the closest date after: (".concat(t,").")},Ye="Go back to Home screen and select a date to see the photos of the earth on that day.";var Fe=function(){var e=Object(N.c)((function(e){return e.nasaEpic.imagesByDateData})),t=Object(N.c)((function(e){return e.nasaEpic.userBirthDay})),a=Object(N.c)((function(e){return e.nasaEpic.imagesDate})),c=Object(N.c)((function(e){return e.nasaEpic.error})),r=Object(n.useMemo)((function(){if(""!==c)return Object(xe.jsx)(Ne,{errorMessage:c,removeErrorAction:he,showBackButton:!0,backPageName:"Home"});if(e.length){var t=e.map((function(e,t){var a=e.caption,c=e.image,n=e.date,r=w()(n),o=r.format(Se),s=r.format(Ee),i=r.format(De),l="".concat(Le,"/").concat(o,"/").concat(s,"/").concat(i,"/png/").concat(c,".png?api_key=").concat("5N2eMyO5pf6WjciZCSFUvDgud6VmvzyQxss8ywch");return Object(xe.jsxs)("div",{children:[Object(xe.jsx)("img",{src:l,alt:a}),Object(xe.jsx)("p",{className:"legend",children:a})]},"carousel-item-".concat(t))}));return Object(xe.jsx)(Ie.Carousel,{autoPlay:!0,infiniteLoop:!0,children:t})}return Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(ne.n,{className:"photo-gallery-description empty",children:Object(xe.jsx)("p",{children:Ye})}),Object(xe.jsx)(ne.n,{className:"basic-row",children:Object(xe.jsxs)(ne.a,{color:"",className:"app-button purple",size:"lg",tag:K.b,to:te,children:[Object(xe.jsx)(re.b,{style:{marginRight:"15px"}}),Re]})})]})}),[c,e]);return Object(xe.jsx)(Ae,{isPublicPage:!1,children:Object(xe.jsxs)(ne.g,{children:[Object(xe.jsx)("div",{className:"page-title",children:Te}),a&&t?Object(xe.jsx)(ne.n,{className:"photo-gallery-description",children:Object(xe.jsx)("p",{children:ze(t,a)})}):null,Object(xe.jsx)(ne.n,{className:"basic-row",children:r})]})})},He="Go to Home",Ve="The page you are looking for is not available.",Ue=function(e){return Object(xe.jsx)(Ae,{isPublicPage:!1,children:Object(xe.jsx)(ne.g,{children:Object(xe.jsxs)("div",{className:"not-found",children:[Object(xe.jsx)(ne.n,{className:"not-found-message",children:Object(xe.jsx)("p",{children:Ve})}),Object(xe.jsx)(ne.n,{className:"not-found-row",children:Object(xe.jsx)("img",{src:"/bearthday-image/images/not-found.jpg",alt:"Not Found Img",className:"not-found-img"})}),Object(xe.jsx)(ne.n,{className:"not-found-button-container",children:Object(xe.jsxs)(ne.a,{color:"",className:"app-button purple",size:"lg",onClick:function(){e.history.push(te)},children:[Object(xe.jsx)(Oe.b,{style:{marginRight:"15px"}}),He]})})]})})})};var qe=function(){return Object(xe.jsx)(K.a,{children:Object(xe.jsxs)($.c,{children:[Object(xe.jsx)($.a,{exact:!0,path:te,component:Ge}),Object(xe.jsx)($.a,{exact:!0,path:ae,component:Fe}),Object(xe.jsx)($.a,{render:function(e){return Object(xe.jsx)(Ue,Object(v.a)({},e))}})]})})},Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,127)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),r(e),o(e)}))};s.a.render(Object(xe.jsx)(r.a.StrictMode,{children:Object(xe.jsx)(N.a,{store:y,children:Object(xe.jsx)(qe,{})})}),document.getElementById("root")),Je()},84:function(e,t,a){},87:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.1b5ef8fd.chunk.js.map